# GENH extractor
# it does exactly as the title says; it can even extract a file without a name

idstring "GENH"
goto 0x18
get CODEC byte
goto 0x20
get OFFSET long
get SIZE asize
math SIZE - OFFSET
if CODEC == 0xc
	get BNAME basename
	string NAME p= "%s.raw" BNAME
else
	goto 0x200
	get NAME string ""
	if NAME == ""
		get BNAME basename
		string NAME p= "%s.raw" BNAME
	else
		break
	endif
endif
log NAME OFFSET SIZE